{"version":3,"sources":["App.tsx","data/stories.ts","routes/MapPage.tsx","data/selections.ts","data/search.ts","component/StoryCard.tsx","routes/SearchPage.tsx","routes/StoryPage.tsx","routes/NotFoundPage.tsx","index.tsx"],"names":["MenuItem","to","children","className","isActive","App","instantEndFlows","stories","title","writtenPlace","speaker","storyPlace","flow","MapPage","mapRef","useRef","useEffect","current","map","window","kakao","maps","Map","center","LatLng","level","geocoder","services","Geocoder","story","addressSearch","result","status","Status","OK","position","y","x","marker","Marker","InfoWindow","content","open","console","log","ref","questions","question","answers","weight","dist","flow1","flow2","sum","i","length","some","endFlow","value","Infinity","Math","pow","sqrt","StoryCard","exact","selection","index","selections","Result","SearchPage","useState","setFlow","instantEnd","find","sort","a","b","reduce","exactStories","otherStories","search","v","onSubmit","e","preventDefault","questionIndex","answer","answerIndex","type","checked","onChange","newFlow","id","name","htmlFor","prev","StoryPage","useParams","NotFoundPage","ReactDOM","render","StrictMode","basename","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.fa9af615.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink, Outlet } from \"react-router-dom\";\n\nconst App = () => (\n  <div>\n    <header className=\"p-6 md:flex md:items-center shadow-md whitespace-nowrap\">\n      <h1 className=\"text-3xl font-semibold text-black\">장자못 전설</h1>\n      <nav className=\"flex flex-col md:flex-row mt-3 md:mt-0 md:ml-auto\">\n        <MenuItem to=\"/map\">우리 동네 근처 장자못</MenuItem>\n        <MenuItem to=\"/search\">장자못 전설 살펴보기</MenuItem>\n      </nav>\n    </header>\n    <main className=\"px-8 mt-6\">\n      <Outlet />\n    </main>\n  </div>\n);\n\nconst MenuItem: React.FC<{ to: string }> = ({ to, children }) => {\n  return (\n    <NavLink\n      className={({ isActive }) =>\n        `text-lg px-3 py-2 rounded-md text-gray-500 hover:bg-purple-50 ${\n          isActive ? \"font-bold text-purple-700\" : \"\"\n        }`\n      }\n      to={to}\n    >\n      {children}\n    </NavLink>\n  );\n};\n\nexport default App;\n","export type Flow = [number, number, number, number, number, number, number];\ntype EndValue = number | boolean;\ntype EndFlow = [\n  EndValue,\n  EndValue,\n  EndValue,\n  EndValue,\n  EndValue,\n  EndValue,\n  EndValue\n];\n\nexport type Story = {\n  title: string;\n  writtenPlace: string;\n  speaker: string;\n  storyPlace: string | null;\n  flow: Flow;\n};\n\nexport const instantEndFlows: EndFlow[] = [\n  [2, false, false, false, false, false, false],\n  [true, 4, false, false, false, false, false],\n  [true, true, 2, false, false, false, false],\n];\n\nconst stories: Story[] = [\n  {\n    title: \"고랑포 장자못\",\n    writtenPlace: \"연천군 장남면 원당2리 장남면 게이트볼장\",\n    speaker: \"조성제\",\n    storyPlace: \"경기 파주시 적성면 장좌리 479\",\n    flow: [1, 1, 1, 1, 1, 1, 4],\n  },\n  {\n    title: \"남양소 장자못 전설\",\n    writtenPlace: \"강원 삼척군 삼척읍\",\n    speaker: \"김일기\",\n    storyPlace: \"강원 삼척시 성남동 198\",\n    flow: [1, 1, 1, 1, 1, 4, 1],\n  },\n  {\n    title: \"대산면 대장리의 장자못\",\n    writtenPlace: \"전북 고창군 대산면 갈마리 46번지\",\n    speaker: \"김상만\",\n    storyPlace: \"전북 고창군 대산면 해룡리 821\",\n    flow: [1, 2, 1, 2, 1, 4, 1],\n  },\n  {\n    title: \"백운사 전설(장자못형)\",\n    writtenPlace: \"전북 완주군 고산면\",\n    speaker: \"이영구\",\n    storyPlace: null,\n    flow: [1, 3, 2, 0, 0, 0, 0],\n  },\n  {\n    title: \"번개늪과 며느리바위[장자못]\",\n    writtenPlace: \"경남 창녕군 영산면 구계리 구계마을회관\",\n    speaker: \"차영시\",\n    storyPlace: \"경남 창녕군 계성면 봉산리 1580\",\n    flow: [1, 1, 1, 1, 3, 1, 1],\n  },\n  {\n    title: \"안동부락 장자못 전설\",\n    writtenPlace: \"전남 장성군 북하면 쌍웅리\",\n    speaker: \"최준성\",\n    storyPlace: \"전남 장성군 장성읍 봉덕리 234\",\n    flow: [1, 3, 1, 2, 2, 1, 1],\n  },\n  {\n    title: \"웅촌(熊村) 장자못\",\n    writtenPlace: \"경남 울산시 신정1동\",\n    speaker: \"이유수\",\n    storyPlace: \"울산 울주군 웅촌면 통천리 841-2\",\n    flow: [1, 1, 2, 0, 0, 0, 0],\n  },\n  {\n    title: \"의령 북실 장자못\",\n    writtenPlace: \"경남 의령군 지정면\",\n    speaker: \"박연악\",\n    storyPlace: \"경남 의령군 정곡면 적곡리 800\",\n    flow: [1, 2, 1, 1, 1, 1, 3],\n  },\n  {\n    title: \"의림지 장자못 전설\",\n    writtenPlace: \"강원 영월군 영월읍\",\n    speaker: \"김진홍\",\n    storyPlace: \"충북 제천시 모산동 241\",\n    flow: [1, 2, 1, 1, 2, 3, 1],\n  },\n  {\n    title: \"장자못1\",\n    writtenPlace: \"경기 구리시 교문동 635-3 백교경로당\",\n    speaker: \"방호덕\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 2, 2],\n  },\n  {\n    title: \"장자못2\",\n    writtenPlace: \"경기 구리시 교문동 백교2 경로당\",\n    speaker: \"김난순\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 2, 2],\n  },\n  {\n    title: \"장자못3\",\n    writtenPlace: \"경기 구리시 교문동 백교2 경로당\",\n    speaker: \"강순덕\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 2, 2],\n  },\n  {\n    title: \"장자못4\",\n    writtenPlace: \"경기 구리시 교문동 635-3 백교경로당\",\n    speaker: \"김석환\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 2, 1],\n  },\n  {\n    title: \"장자못6\",\n    writtenPlace: \"경기 구리시 아천동 316 우미천경로당\",\n    speaker: \"이복순\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 1, 2],\n  },\n  {\n    title: \"장자못8\",\n    writtenPlace: \"경기 구리시 갈매도당굿 전수회관\",\n    speaker: \"박명섭\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 1, 2],\n  },\n  {\n    title: \"장자못10\",\n    writtenPlace: \"경북 영덕군 달산면 대지1동\",\n    speaker: \"조유란\",\n    storyPlace: \"강원 태백시 황지연못길 12\",\n    flow: [1, 1, 1, 1, 1, 1, 5],\n  },\n  {\n    title: \"장자못11\",\n    writtenPlace: \"경남 진주시 망경북동\",\n    speaker: \"김두상\",\n    storyPlace: \"강원 태백시 황지연못길 12\",\n    flow: [1, 3, 2, 0, 0, 0, 5],\n  },\n  {\n    title: \"장자못13\",\n    writtenPlace: \"경남 밀양군 무안면\",\n    speaker: \"김도연\",\n    storyPlace: \"경남 밀양시 초동면 반월리 1045\",\n    flow: [2, 0, 0, 1, 2, 1, 1],\n  },\n  {\n    title: \"장자못14\",\n    writtenPlace: \"경남 밀양군 산내면\",\n    speaker: \"손기도\",\n    storyPlace: null,\n    flow: [1, 4, 2, 0, 0, 0, 0],\n  },\n  {\n    title: \"장자못 다른 이야기\",\n    writtenPlace: \"경북 월성군 안강읍 근계2리\",\n    speaker: \"최춘원\",\n    storyPlace: null,\n    flow: [1, 1, 1, 2, 1, 1, 1],\n  },\n  {\n    title: \"장자못 전설1\",\n    writtenPlace: \"경기 구리시 수택동 626-4 수늪경로당\",\n    speaker: \"임태은\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 2, 2],\n  },\n  {\n    title: \"장자못 전설2\",\n    writtenPlace: \"경기 구리시 수택동 626-4 수늪경로당\",\n    speaker: \"정성용\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 1, 4],\n  },\n  {\n    title: \"장자못 전설4\",\n    writtenPlace: \"경기 구리시 인창동 704 궁말경로당\",\n    speaker: \"김대성\",\n    storyPlace: \"경기 구리시 우미내길 50-140\",\n    flow: [1, 2, 1, 1, 1, 1, 1],\n  },\n  {\n    title: \"장자못 전설5\",\n    writtenPlace: \"경기 김포시 하성면 마곡2리 184번지 이영희 자택\",\n    speaker: \"이영희\",\n    storyPlace: null,\n    flow: [1, 5, 1, 2, 1, 4, 1],\n  },\n  {\n    title: \"장자못 전설7\",\n    writtenPlace: \"경기 하남시 대성로 151번길 90 법동경로당\",\n    speaker: \"임종수\",\n    storyPlace: null,\n    flow: [1, 1, 1, 1, 1, 3, 1],\n  },\n  {\n    title: \"장자못 전설10\",\n    writtenPlace: \"경북 영양군 영양읍 서부1리\",\n    speaker: \"양용숙\",\n    storyPlace: null,\n    flow: [1, 1, 1, 2, 2, 1, 1],\n  },\n  {\n    title: \"장자못 전설13\",\n    writtenPlace: \"전남 장성군 장성읍 수산리\",\n    speaker: \"김일남\",\n    storyPlace: null,\n    flow: [1, 1, 1, 2, 1, 3, 1],\n  },\n  {\n    title: \"장자못 전설14\",\n    writtenPlace: \"강원 영월군 영월읍\",\n    speaker: \"김진홍\",\n    storyPlace: \"강원 태백시 황지연못길 12\",\n    flow: [1, 2, 1, 1, 1, 1, 1],\n  },\n  {\n    title: \"장자못과 돌이 된 며느리\",\n    writtenPlace: \"경북 상주군 은척면 우기1리\",\n    speaker: \"황수용\",\n    storyPlace: null,\n    flow: [1, 1, 1, 1, 1, 1, 1],\n  },\n  {\n    title: \"장자못과 욕심 많은 부자의 최후\",\n    writtenPlace: \"경북 영주시 풍기읍 수철리 노인회관\",\n    speaker: \"신란순\",\n    storyPlace: null,\n    flow: [1, 1, 1, 1, 1, 1, 5],\n  },\n  {\n    title: \"장자못과 이무기\",\n    writtenPlace: \"구리시 토평동 567-7 벌말 경로당\",\n    speaker: \"이성실\",\n    storyPlace: \"경기 구리시 교문동 593-1\",\n    flow: [1, 1, 1, 1, 1, 2, 4],\n  },\n  {\n    title: \"장자못전설3\",\n    writtenPlace: \"경북 영양군 영양읍 서부1리 마을회관\",\n    speaker: \"이금학\",\n    storyPlace: \"강원 태백시 황지연못길 12\",\n    flow: [1, 1, 1, 2, 1, 1, 1],\n  },\n  {\n    title: \"장좌리 장자못의 유래\",\n    writtenPlace: \"경기 파주시 적성면 마지1리 봉수길 자택\",\n    speaker: \"봉수길\",\n    storyPlace: \"경기 파주시 적성면 장좌리 479\",\n    flow: [1, 1, 1, 1, 1, 2, 1],\n  },\n  {\n    title: \"중을 괄세한 황부자, 장자못 전설\",\n    writtenPlace: \"경북 월성군 외동면\",\n    speaker: \"김수만\",\n    storyPlace: null,\n    flow: [1, 5, 1, 2, 1, 1, 1],\n  },\n  {\n    title: \"중을 괄시한 만석꾼, 장자못\",\n    writtenPlace: \"경북 월성군 외동면 입실2리\",\n    speaker: \"박동준\",\n    storyPlace: null,\n    flow: [1, 2, 1, 1, 1, 1, 1],\n  },\n  {\n    title: \"황지(潢池) 장자못의 유래\",\n    writtenPlace: \"경남 의령군 봉수면\",\n    speaker: \"최용득\",\n    storyPlace: \"강원 태백시 황지연못길 12\",\n    flow: [1, 3, 1, 1, 2, 1, 1],\n  },\n  {\n    title: \"황지(潢池)의 장자못\",\n    writtenPlace: \"경남 울주군 상북면\",\n    speaker: \"김삼남\",\n    storyPlace: \"강원 태백시 황지연못길 12\",\n    flow: [1, 2, 1, 1, 3, 1, 1],\n  },\n];\n\nexport default stories;\n","import React, { useEffect, useRef } from \"react\";\nimport stories from \"../data/stories\";\n\ndeclare global {\n  interface Window {\n    kakao: any;\n  }\n}\n\nconst MapPage = () => {\n  const mapRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!mapRef.current) {\n      return;\n    }\n\n    const map = new window.kakao.maps.Map(mapRef.current, {\n      center: new window.kakao.maps.LatLng(36, 128),\n      level: 12,\n    });\n\n    const geocoder = new window.kakao.maps.services.Geocoder();\n\n    for (const story of stories) {\n      if (story.storyPlace) {\n        geocoder.addressSearch(story.storyPlace, (result: any, status: any) => {\n          if (status === window.kakao.maps.services.Status.OK) {\n            const position = new window.kakao.maps.LatLng(\n              result[0].y,\n              result[0].x\n            );\n            const marker = new window.kakao.maps.Marker({ map, position });\n            const infoWindow = new window.kakao.maps.InfoWindow({\n              content: `<a class=\"font-medium text-xm whitespace-nowrap\" href=\"/stories/${story.title}\">${story.title}</a>`,\n            });\n            infoWindow.open(map, marker);\n          } else {\n            console.log(\"장자못 주소를 검색하지 못했어요. 죄송해요.\");\n          }\n        });\n      }\n    }\n  }, []);\n\n  return (\n    <div>\n      <h1 className=\"text-2xl font-semibold mb-1\">우리 동네 근처 장자못</h1>\n      <p className=\"pt-1 pb-3\">\n        장자못 전설은 전국 이곳저곳에 전해지고 있는 전설입니다. 그 장소만 해도\n        백여 곳이 된다고 하죠.\n        <br />\n        혹시 우리 동네 근처에도 장자못이 있을까요? 찾아봅시다.\n      </p>\n      <div className=\"h-screen\" ref={mapRef} />\n    </div>\n  );\n};\n\nexport default MapPage;\n","type Question = {\n  question: string;\n  answers: (string | null)[];\n};\n\nconst questions: Question[] = [\n  {\n    question: \"이야기의 시작은...\",\n    answers: [\n      null,\n      \"옛날에 한 부자가 있었는데...\",\n      \"한 여자가 시집을 갔는데 시집살이가 심해서...\",\n    ],\n  },\n  {\n    question: \"스님이 시주를 받으러 왔다. 부자는...\",\n    answers: [\n      null,\n      \"시주 그릇에 쇠똥을 퍼주었다\",\n      \"시주 그릇에 거름을 퍼주었다\",\n      \"스님에게 신체적 고통을 주었다\",\n      \"시주를 많이 주는 대신 다른 요구를 했다\",\n      \"아무것도 시주하지 않았다\",\n    ],\n  },\n  {\n    question: \"그렇게 스님이 고초를 겪고 나서...\",\n    answers: [\n      null,\n      \"며느리가 나와서 쌀을 대신 주었다\",\n      \"스님이 부잣집을 망하게 했다\",\n    ],\n  },\n  {\n    question: \"스님은 며느리한테...\",\n    answers: [\n      null,\n      \"뒤를 돌아보지 말고 따라오라고 했다\",\n      \"뒤를 돌아보지 말고 피하라고 했다\",\n    ],\n  },\n  {\n    question: \"며느리가 집을 떠나오면서...\",\n    answers: [\n      null,\n      \"그냥 혼자 나왔다\",\n      \"아이도 같이 따라나왔다\",\n      \"강아지도 같이 따라나왔다\",\n    ],\n  },\n  {\n    question: \"결국 며느리는...\",\n    answers: [\n      null,\n      \"바위가 되어 죽었다\",\n      \"목이 떨어지거나 벼락을 맞아 죽었다\",\n      \"살았다\",\n      \"어떻게 됐을지 잘 모르겠다\",\n    ],\n  },\n  {\n    question: \"그 이후로...\",\n    answers: [\n      null,\n      \"딱히 남은 얘기는 없다\",\n      \"마을에 며느리를 기리는 자리가 생겼다\",\n      \"며느리바위에 치성을 드리면 아이를 가질 수 있다고 한다\",\n      \"연못에는 이무기나 구렁이가 산다고 한다\",\n      \"맑은 날에 못을 보면 기와집이 안에 보인다\",\n    ],\n  },\n];\n\nexport default questions;\n","import stories, { Flow, instantEndFlows, Story } from \"./stories\";\n\ntype SearchResult = {\n  exactStories: Story[];\n  otherStories: Story[];\n};\n\nexport function search(flow: Flow): SearchResult {\n  return stories\n    .sort((a, b) => dist(flow, a.flow) - dist(flow, b.flow))\n    .reduce<SearchResult>(\n      (result, story) =>\n        dist(flow, story.flow) === 0\n          ? {\n              ...result,\n              exactStories: [...result.exactStories, story],\n            }\n          : {\n              ...result,\n              otherStories: [...result.otherStories, story],\n            },\n      {\n        exactStories: [],\n        otherStories: [],\n      }\n    );\n}\n\nconst weight: Flow = [1, 1, 1, 1, 1, 1, 5];\n\nexport function dist(flow1: number[], flow2: number[]) {\n  let sum = 0;\n  for (let i = 0; i < flow1.length; i++) {\n    if (\n      instantEndFlows.some((endFlow) =>\n        endFlow.some((value, i) => flow1[i] === value && flow2[i] === value)\n      )\n    ) {\n      return 0;\n    } else if (\n      instantEndFlows.some((endFlow) =>\n        endFlow.some((value, i) => flow1[i] !== value && flow2[i] === value)\n      )\n    ) {\n      return Infinity;\n    }\n    if (flow1[i] > 0 && flow2[i] > 0) {\n      sum += Math.pow(flow1[i] - flow2[i], 2) * (1 / weight[i]);\n    }\n  }\n  return Math.sqrt(sum);\n}\n","import { Link } from \"react-router-dom\";\nimport {\n  DocumentTextIcon,\n  LocationMarkerIcon,\n  SpeakerphoneIcon,\n  UserIcon,\n} from \"@heroicons/react/outline\";\nimport selections from \"../data/selections\";\nimport React from \"react\";\nimport { Story } from \"../data/stories\";\n\ntype Props = {\n  story: Story;\n  exact?: boolean;\n};\n\nconst StoryCard: React.FC<Props> = ({ story, exact }) => (\n  <div\n    className={`shadow-md py-6 px-6 rounded-lg border-2 ${\n      exact ? \"border-purple-300\" : \"border-gray-300\"\n    }`}\n  >\n    <Link className=\"font-medium text-lg\" to={`/stories/${story.title}`}>\n      {story.title}\n    </Link>\n    <ul>\n      <li className=\"flex items-center\">\n        <SpeakerphoneIcon className=\"w-4 h-4 mr-1\" /> 들은 곳:{\" \"}\n        {story.writtenPlace}\n      </li>\n      <li className=\"flex items-center\">\n        <UserIcon className=\"w-4 h-4 mr-1\" />\n        이야기하신 분: {story.speaker}\n      </li>\n      {story.storyPlace && (\n        <li className=\"flex items-center\">\n          <LocationMarkerIcon className=\"w-4 h-4 mr-1\" />\n          이야기의 배경: {story.storyPlace}\n        </li>\n      )}\n      <li>\n        <h4 className=\"flex items-center\">\n          <DocumentTextIcon className=\"w-4 h-4 mr-1\" />\n          줄거리:\n        </h4>\n        <ul className=\"px-5 py-2\">\n          {story.flow.map((selection, index) =>\n            selection ? (\n              <li key={index} className=\"py-1\">\n                <p className=\"font-semibold\">{selections[index].question}</p>\n                <p className=\"pl-3\">{selections[index].answers[selection]}</p>\n              </li>\n            ) : null\n          )}\n        </ul>\n      </li>\n    </ul>\n  </div>\n);\n\nexport default StoryCard;\n","import { Flow, instantEndFlows, Story } from \"../data/stories\";\nimport React, { useState } from \"react\";\nimport questions from \"../data/selections\";\nimport { search } from \"../data/search\";\nimport StoryCard from \"../component/StoryCard\";\n\nconst SearchPage = () => {\n  const [flow, setFlow] = useState<Flow>([0, 0, 0, 0, 0, 0, 0]);\n\n  const instantEnd = instantEndFlows.find((endFlow) =>\n    endFlow.some((value, i) => flow[i] === value)\n  );\n  const flowWithEnd = flow.map((v, i) =>\n    instantEnd ? (instantEnd[i] ? v : 0) : v\n  ) as Flow;\n\n  const result = search(flowWithEnd);\n\n  return (\n    <div>\n      <h1 className=\"text-2xl font-semibold mb-1\">장자못 전설 살펴보기</h1>\n      <p className=\"pt-1\">\n        장자못 전설은 전국적으로 퍼져 있지만, 지역마다 내용이 조금씩 다릅니다.\n        <br />\n        이야기의 분기를 따라가며 각 지역마다 들려주는 이야기를 확인해 봅시다.\n      </p>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n        }}\n        className=\"mt-4 mb-8\"\n      >\n        <ul className=\"space-y-4\">\n          {questions.map((question, questionIndex) =>\n            (questionIndex === 0 || flow[questionIndex - 1] > 0) &&\n            (!instantEnd || instantEnd[questionIndex]) ? (\n              <li\n                key={question.question}\n                className=\"shadow-md px-6 py-6 rounded-xl border-2 border-purple-50 bg-gradient-to-r from-transparent via-transparent to-purple-50\"\n              >\n                <h2 className=\"font-semibold text-xl mb-3\">\n                  {question.question}\n                </h2>\n                <ul className=\"space-y-2 ml-1\">\n                  {question.answers.map((answer, answerIndex) =>\n                    answer === null ? null : (\n                      <li key={answer} className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          className=\"w-4 h-4\"\n                          checked={flow[questionIndex] === answerIndex}\n                          onChange={() =>\n                            setFlow((flow) => {\n                              const newFlow = [...flow] as Flow;\n                              newFlow[questionIndex] = answerIndex;\n                              return newFlow;\n                            })\n                          }\n                          id={answer}\n                          name={question.question}\n                        />\n                        <label htmlFor={answer} className=\"ml-3\">\n                          {answer}\n                        </label>\n                      </li>\n                    )\n                  )}\n                </ul>\n              </li>\n            ) : null\n          )}\n        </ul>\n      </form>\n      {flow.reduce((prev, current) => (current !== 0 ? prev + 1 : prev)) ===\n        flow.length || instantEnd ? (\n        <div className=\"space-y-4\">\n          {result.exactStories.length > 0 && (\n            <div className=\"py-6 border-t-2 border-gray-50\">\n              <h1 className=\"font-semibold text-2xl text-purple-700\">\n                일치하는 이야기\n              </h1>\n              <Result exact stories={result.exactStories} />\n            </div>\n          )}\n          {result.otherStories.length > 0 && (\n            <div className=\"py-6 border-t-2 border-gray-50\">\n              <h1 className=\"font-semibold text-2xl\">비슷한 이야기</h1>\n              <Result stories={result.otherStories} />\n            </div>\n          )}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nconst Result: React.FC<{ stories: Story[]; exact?: boolean }> = ({\n  stories,\n  exact,\n}) => {\n  return (\n    <ul className=\"mt-6 space-y-6\">\n      {stories.map((story) => (\n        <li key={story.title}>\n          <StoryCard story={story} exact={exact} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default SearchPage;\n","import { useParams } from \"react-router-dom\";\nimport stories from \"../data/stories\";\nimport React from \"react\";\nimport StoryCard from \"../component/StoryCard\";\n\ntype Params = \"title\";\n\nconst StoryPage = () => {\n  const { title } = useParams<Params>();\n  const story = stories.find((story) => story.title === title);\n\n  if (!story) {\n    return <div>찾으시는 이야기가 없네요.</div>;\n  }\n\n  return (\n    <article>\n      <StoryCard story={story} />\n    </article>\n  );\n};\n\nexport default StoryPage;\n","const NotFoundPage = () => {\n  return <div>찾으시는 페이지가 없네요.</div>;\n};\n\nexport default NotFoundPage;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport MapPage from \"./routes/MapPage\";\nimport SearchPage from \"./routes/SearchPage\";\nimport StoryPage from \"./routes/StoryPage\";\nimport NotFoundPage from \"./routes/NotFoundPage\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"2021-gubi-final\">\n      <Routes>\n        <Route path=\"/\" element={<App />}>\n          <Route path=\"/map\" element={<MapPage />} />\n          <Route path=\"/search\" element={<SearchPage />} />\n          <Route path=\"/stories/:title\" element={<StoryPage />} />=\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}